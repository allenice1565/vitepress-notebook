---
title: puppeteer使用
permalink: /pages/1c3aea/
date: "2024-02-02 15:33:14"
categaries:
    - 前端
    - 工具使用
author:
    name: Allen
    link: "https://github.com/allenice1565"
---

## js获取input元素，给value赋值无效

原因是这个页面使用了一些前端框架，比如vue。在进行数据双向绑定之后，我们使用js原生获取dom的方式去求改input元素的value值，双向绑定的机制不能检测到数据修改，因为双向绑定是通过事件进行修改数据的。

<b>解决方法：</b>
在修改input元素的value后，要抛出事件，来让双向绑定框架捕获到数据的修改。

```js
const userNameInput = document.querySelector('input[name="username"]');
userNameInput.value = "username";
userNameInput.dispatchEvent(new Event("input"));
```
